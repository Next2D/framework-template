# UIコンポーネント・アニメーション・Content

## Atomic Design 階層

```
ui/component/
├── atom/       → 最小コンポーネント (Sprite/TextField継承)
├── molecule/   → Atom複合コンポーネント
├── organism/   → 複数Molecule組み合わせ (拡張用)
├── page/       → 画面全体コンポーネント (Viewから配置)
└── template/   → ページレイアウト (拡張用)

ui/animation/{screen}/  → アニメーション定義
ui/content/             → Animation Toolコンテンツ
```

### 継承関係

```
Sprite → ButtonAtom → HomeBtnMolecule / TopBtnMolecule
Sprite → HomePage / TopPage
TextField → TextAtom
MovieClipContent → HomeContent / TopContent
```

## テンプレート

### Atom

```javascript
import { Sprite } from "@next2d/display";

export class YourAtom extends Sprite
{
    constructor (props = null)
    {
        super();
        if (props) { Object.assign(this, props); }
    }
}
```

### Molecule

```javascript
import { ButtonAtom } from "../atom/ButtonAtom";

export class YourMolecule extends ButtonAtom
{
    constructor ()
    {
        super();
        // Atomの組み合わせ
    }
}
```

### Page

ViewからPageを配置し、PageがMolecule/Atomを組み合わせて画面を構築する。

```javascript
import { Sprite } from "@next2d/display";

export class YourPage extends Sprite
{
    initialize (vm)
    {
        // UIコンポーネント生成・配置
        // イベントリスナー登録 (vmに委譲)
    }

    async onEnter ()
    {
        // 入場アニメーション等
    }
}
```

### Content (Animation Tool)

Animation Toolで作成したアニメーションのラッパー。`namespace` でシンボル名を指定。

```javascript
import { MovieClipContent } from "@next2d/framework";

export class YourContent extends MovieClipContent
{
    get namespace ()
    {
        return "YourSymbolName";  // Animation Toolのシンボル名と一致させる
    }
}
```

Contentの種類: `MovieClipContent`, `ShapeContent`, `TextFieldContent`, `VideoContent` (全て `@next2d/framework`)

routing.jsonで `type: "content"` のリクエストによりJSONがロードされ、namespaceで紐づく。

### Animation

アニメーションロジックをコンポーネントから分離。配置: `ui/animation/{screen}/`

```javascript
import { Tween, Easing } from "@next2d/ui";
import { Event } from "@next2d/events";

export class YourAnimation
{
    _job;

    constructor (sprite, callback = null)
    {
        sprite.alpha = 0;
        this._job = Tween.add(sprite,
            { "alpha": 0 }, { "alpha": 1 },
            0.5, 1, Easing.outQuad
        );
        if (callback) {
            this._job.addEventListener(Event.COMPLETE, callback);
        }
    }

    start () { this._job.start(); }
}
```

Tween.add引数: `(target, from, to, duration秒, frameRate倍率, easing)`

コンポーネントからの呼び出し:
```javascript
// Molecule内
show (callback) { new YourAnimation(this, callback).start(); }

// Page内
async onEnter () { this._btn?.show(() => { this._btn.enable(); }); }
```

## ルール

- Atomは汎用的、Moleculeは画面固有
- ビジネスロジック/データアクセスに直接依存しない
- データはViewModelからコンストラクタ引数/メソッド経由で受け取る
- イベントはViewModelのメソッドに委譲
- Animation命名: `{Component}{Action}Animation.js`
- Content: クラス名とAnimation Toolシンボル名を一致させる
